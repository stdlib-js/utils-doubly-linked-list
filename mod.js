// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var e,r=Object.defineProperty,n=Object.prototype,i=n.toString,o=n.__defineGetter__,s=n.__defineSetter__,l=n.__lookupGetter__,h=n.__lookupSetter__;e=function(){try{return t({},"x",{}),!0}catch(t){return!1}}()?r:function(t,e,r){var _,a,u,f;if("object"!=typeof t||null===t||"[object Array]"===i.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof r||null===r||"[object Array]"===i.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((a="value"in r)&&(l.call(t,e)||h.call(t,e)?(_=t.__proto__,t.__proto__=n,delete t[e],t[e]=r.value,t.__proto__=_):t[e]=r.value),u="get"in r,f="set"in r,a&&(u||f))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return u&&o&&o.call(t,e,r.get),f&&s&&s.call(t,e,r.set),t};var _=e;function a(t,e,r){_(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})}var u=Object.prototype.hasOwnProperty;var f,p,c,v="function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&(f=Symbol,p="iterator",null!=f&&u.call(f,p))&&"symbol"==typeof Symbol.iterator?Symbol.iterator:null;function y(){var t,e=arguments,r=e[0],n="https://stdlib.io/e/"+r+"?";for(t=1;t<e.length;t++)n+="&arg[]="+encodeURIComponent(e[t]);return n}function b(t){return _(this,"next",{configurable:!1,enumerable:!0,get:function(){return this._next}}),_(this,"prev",{configurable:!1,enumerable:!0,get:function(){return this._prev}}),this.value=t,_(this,"_next",{configurable:!1,enumerable:!1,writable:!0,value:null}),_(this,"_prev",{configurable:!1,enumerable:!1,writable:!0,value:null}),this}function g(){return this instanceof g?(this._length=0,this._first=null,this._last=null,this):new g}a(g.prototype,"clear",(function(){return this._length=0,this._first=null,this._last=null,this})),a(g.prototype,"first",(function(){if(this._length)return this._first})),a(g.prototype,"insert",(function(t,e,r){var n,i;if(arguments.length>2){if("before"!==(n=r)&&"after"!==n)throw new Error(y("0jWBo",n))}else n="after";if("after"===n&&t===this._last)return this.push(e);if("before"===n&&t===this._first)return this.unshift(e);for(i=this._first;i!==this._last&&i!==t;)i=i._next;if(i===this._last&&i!==t)throw new Error(y("0jW1o"));return i=new b(e),"after"===n?(t._next._prev=i,i._next=t._next,t._next=i,i._prev=t):(t._prev._next=i,i._prev=t._prev,t._prev=i,i._next=t),this._length+=1,this})),a(g.prototype,"iterator",(function(t){var e,r,n,i,o,s,l;if(arguments.length){if("forward"!==(o=t)&&"reverse"!==o)throw new Error(y("0jWBp",o))}else o="forward";return n=this,"forward"===o?(l=-1,s=1):(l=this._length,s=-1),e=this.toArray(),a(r={},"next",h),a(r,"return",_),v&&a(r,v,u),r;function h(){return l+=s,i||l<0||l>=e.length?{done:!0}:{value:e[l],done:!1}}function _(t){return i=!0,arguments.length?{value:t,done:!0}:{done:!0}}function u(){return n.iterator()}})),a(g.prototype,"last",(function(){if(this._length)return this._last})),c=g.prototype,_(c,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),a(g.prototype,"pop",(function(){var t;return this._length&&(t=this._last.value,this._last._prev?(this._last=this._last._prev,this._last._next=null):(this._first=null,this._last=null),this._length-=1),t})),a(g.prototype,"push",(function(t){var e;return e=new b(t),0===this._length?(this._first=e,this._last=e):(e._prev=this._last,this._last._next=e,this._last=e),this._length+=1,this})),a(g.prototype,"remove",(function(t){var e,r;if(t===this._first)return this.shift();if(t===this._last)return this.pop();for(e=t.value,r=this._first;r!==this._last&&r!==t;)r=r._next;if(r===this._last)throw new Error(y("0jW1o"));return t._prev._next=t._next,t._next._prev=t._prev,this._length-=1,e})),a(g.prototype,"shift",(function(){var t;return this._length&&(t=this._first.value,this._first._next?(this._first=this._first._next,this._first._prev=null):(this._first=null,this._last=null),this._length-=1),t})),a(g.prototype,"toArray",(function(){var t,e,r;for(e=[],t=this._first,r=0;r<this._length;r++)e.push(t.value),t=t.next;return e})),a(g.prototype,"toJSON",(function(){var t={type:"doubly-linked-list"};return t.data=this.toArray(),t})),a(g.prototype,"unshift",(function(t){var e;return e=new b(t),0===this._length?(this._first=e,this._last=e):(e._next=this._first,this._first._prev=e,this._first=e),this._length+=1,this}));export{g as default};
//# sourceMappingURL=mod.js.map
