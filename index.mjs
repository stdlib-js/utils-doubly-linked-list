// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@esm/index.mjs";var s=n;var h=t,l=e,o=r,a=i,u=function(t){return s(this,"next",{configurable:!1,enumerable:!0,get:function(){return this._next}}),s(this,"prev",{configurable:!1,enumerable:!0,get:function(){return this._prev}}),this.value=t,s(this,"_next",{configurable:!1,enumerable:!1,writable:!0,value:null}),s(this,"_prev",{configurable:!1,enumerable:!1,writable:!0,value:null}),this};function _(){return this instanceof _?(this._length=0,this._first=null,this._last=null,this):new _}h(_.prototype,"clear",(function(){return this._length=0,this._first=null,this._last=null,this})),h(_.prototype,"first",(function(){if(this._length)return this._first})),h(_.prototype,"insert",(function(t,e,r){var i,n;if(arguments.length>2){if("before"!==(i=r)&&"after"!==i)throw new Error(a("invalid argument. Third argument must be a recognized location. Value: `%s`.",i))}else i="after";if("after"===i&&t===this._last)return this.push(e);if("before"===i&&t===this._first)return this.unshift(e);for(n=this._first;n!==this._last&&n!==t;)n=n._next;if(n===this._last&&n!==t)throw new Error("invalid argument. The list does not contain the provided list node.");return n=new u(e),"after"===i?(t._next._prev=n,n._next=t._next,t._next=n,n._prev=t):(t._prev._next=n,n._prev=t._prev,t._prev=n,n._next=t),this._length+=1,this})),h(_.prototype,"iterator",(function(t){var e,r,i,n,s,l,u;if(arguments.length){if("forward"!==(s=t)&&"reverse"!==s)throw new Error(a("invalid argument. Must provide a recognized iteration direction. Value: `%s`.",s))}else s="forward";return i=this,"forward"===s?(u=-1,l=1):(u=this._length,l=-1),e=this.toArray(),h(r={},"next",_),h(r,"return",f),o&&h(r,o,p),r;function _(){return u+=l,n||u<0||u>=e.length?{done:!0}:{value:e[u],done:!1}}function f(t){return n=!0,arguments.length?{value:t,done:!0}:{done:!0}}function p(){return i.iterator()}})),h(_.prototype,"last",(function(){if(this._length)return this._last})),l(_.prototype,"length",(function(){return this._length})),h(_.prototype,"pop",(function(){var t;return this._length&&(t=this._last.value,this._last._prev?(this._last=this._last._prev,this._last._next=null):(this._first=null,this._last=null),this._length-=1),t})),h(_.prototype,"push",(function(t){var e;return e=new u(t),0===this._length?(this._first=e,this._last=e):(e._prev=this._last,this._last._next=e,this._last=e),this._length+=1,this})),h(_.prototype,"remove",(function(t){var e,r;if(t===this._first)return this.shift();if(t===this._last)return this.pop();for(e=t.value,r=this._first;r!==this._last&&r!==t;)r=r._next;if(r===this._last)throw new Error("invalid argument. The list does not contain the provided list node.");return t._prev._next=t._next,t._next._prev=t._prev,this._length-=1,e})),h(_.prototype,"shift",(function(){var t;return this._length&&(t=this._first.value,this._first._next?(this._first=this._first._next,this._first._prev=null):(this._first=null,this._last=null),this._length-=1),t})),h(_.prototype,"toArray",(function(){var t,e,r;for(e=[],t=this._first,r=0;r<this._length;r++)e.push(t.value),t=t.next;return e})),h(_.prototype,"toJSON",(function(){var t={type:"doubly-linked-list"};return t.data=this.toArray(),t})),h(_.prototype,"unshift",(function(t){var e;return e=new u(t),0===this._length?(this._first=e,this._last=e):(e._next=this._first,this._first._prev=e,this._first=e),this._length+=1,this}));var f=_;export{f as default};
//# sourceMappingURL=index.mjs.map
