{"version":3,"file":"index.mjs","sources":["../lib/node.js","../lib/main.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport defineProperty from '@stdlib/utils-define-property' ;\n\n\n// MAIN //\n\n/**\n* List node constructor.\n*\n* @private\n* @constructor\n* @param {*} value - node value\n* @returns {Node} Node instance\n*\n* @example\n* var node = new Node( 'foo' );\n* // returns <Node>\n*/\nfunction Node( value ) { // eslint-disable-line stdlib/no-redeclare\n\t// Why getters? Because some of the list APIs will return the list \"node\", not the value. In which case, the node API is no longer private and we have to guard against users mucking about (deleting, updating, etc) with property values (in particular, the `next` and `prev` properties).\n\tdefineProperty( this, 'next', {\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'get': function get() { // eslint-disable-line no-restricted-syntax\n\t\t\treturn this._next;\n\t\t}\n\t});\n\tdefineProperty( this, 'prev', {\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'get': function get() { // eslint-disable-line no-restricted-syntax\n\t\t\treturn this._prev;\n\t\t}\n\t});\n\tthis.value = value;\n\n\tdefineProperty( this, '_next', {\n\t\t'configurable': false,\n\t\t'enumerable': false,\n\t\t'writable': true,\n\t\t'value': null\n\t});\n\tdefineProperty( this, '_prev', {\n\t\t'configurable': false,\n\t\t'enumerable': false,\n\t\t'writable': true,\n\t\t'value': null\n\t});\n\n\treturn this;\n}\n\n\n// EXPORTS //\n\nexport default Node;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable no-restricted-syntax, no-invalid-this */\n\n'use strict';\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property' ;\nimport setReadOnlyAccessor from '@stdlib/utils-define-nonenumerable-read-only-accessor' ;\nimport iteratorSymbol from '@stdlib/symbol-iterator' ;\nimport format from '@stdlib/error-tools-fmtprodmsg' ;\nimport Node from './node.js' ; // eslint-disable-line stdlib/no-redeclare\n\n\n// MAIN //\n\n/**\n* Doubly linked list constructor.\n*\n* @constructor\n* @returns {DoublyLinkedList} linked list instance\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Remove the last value:\n* var v = list.pop();\n* // returns 'bar'\n*\n* // Add a new value to the list:\n* list.push( 'beep' );\n*\n* // Remove the first value:\n* v = list.shift();\n* // returns 'foo'\n*/\nfunction DoublyLinkedList() {\n\tif ( !(this instanceof DoublyLinkedList) ) {\n\t\treturn new DoublyLinkedList();\n\t}\n\tthis._length = 0;\n\tthis._first = null;\n\tthis._last = null;\n\treturn this;\n}\n\n/**\n* Clears the list.\n*\n* @name clear\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {DoublyLinkedList} list instance\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Peek at the first value:\n* var v = list.first().value;\n* // returns 'foo'\n*\n* // Examine the list length:\n* var len = list.length;\n* // returns 2\n*\n* // Clear all list items:\n* list.clear();\n*\n* // Peek at the first value:\n* v = list.first();\n* // returns undefined\n*\n* // Examine the list length:\n* len = list.length;\n* // returns 0\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'clear', function clear() {\n\tthis._length = 0;\n\tthis._first = null;\n\tthis._last = null;\n\treturn this;\n});\n\n/**\n* Returns the first list node.\n*\n* @name first\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {(Node|void)} list node\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Peek at the first value:\n* var v = list.first().value;\n* // returns 'foo'\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'first', function first() {\n\tif ( this._length ) {\n\t\treturn this._first;\n\t}\n});\n\n/**\n* Inserts a value into the list either before or after a provided list node.\n*\n* @name insert\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @param {Node} node - node after which to insert the value\n* @param {*} value - value to insert\n* @param {string} [location='after'] - location\n* @throws {Error} must provide a node belonging to the list\n* @throws {Error} must provide a recognized location\n* @returns {DoublyLinkedList} list instance\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' ).push( 'beep' );\n*\n* // Determine the list length:\n* var len = list.length;\n* // returns 3\n*\n* // Get the second node:\n* var node = list.first().next;\n*\n* // Insert a value after the second node:\n* list.insert( node, 'boop' );\n*\n* // Determine the list length:\n* len = list.length;\n* // returns 4\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'insert', function insert( node, value, location ) {\n\t/* eslint-disable no-underscore-dangle */\n\tvar loc;\n\tvar n;\n\tif ( arguments.length > 2 ) {\n\t\tloc = location;\n\t\tif ( loc !== 'before' && loc !== 'after' ) {\n\t\t\tthrow new Error( format( '0jWBo', loc ) );\n\t\t}\n\t} else {\n\t\tloc = 'after';\n\t}\n\t// Case: insert after last node (equivalent to `push()`)\n\tif ( loc === 'after' && node === this._last ) {\n\t\treturn this.push( value );\n\t}\n\t// Case: insert before first node (equivalent to `unshift()`)\n\tif ( loc === 'before' && node === this._first ) {\n\t\treturn this.unshift( value );\n\t}\n\t// Unfortunately, we need to check whether we have been provided a node belonging to our list by walking the list. If we don't, we could erroneously increment the list length. This means our runtime goes from the theoretical O(1) to O(N).\n\tn = this._first;\n\twhile ( n !== this._last && n !== node ) {\n\t\tn = n._next;\n\t}\n\t// Check if we iterated through the entire list:\n\tif ( n === this._last && n !== node ) {\n\t\tthrow new Error( format( '0jW1o' ) );\n\t}\n\t// Create a new list node:\n\tn = new Node( value );\n\n\t// Update pointers...\n\tif ( loc === 'after' ) {\n\t\tnode._next._prev = n;\n\t\tn._next = node._next;\n\n\t\tnode._next = n;\n\t\tn._prev = node;\n\t} else {\n\t\tnode._prev._next = n;\n\t\tn._prev = node._prev;\n\n\t\tnode._prev = n;\n\t\tn._next = node;\n\t}\n\t// Increment the list length:\n\tthis._length += 1;\n\n\treturn this;\n\n\t/* eslint-enable no-underscore-dangle */\n});\n\n/**\n* Returns an iterator for iterating over a list.\n*\n* ## Notes\n*\n* -   In order to prevent confusion arising from list mutation during iteration, a returned iterator **always** iterates over a list \"snapshot\", which is defined as the list of elements at the time of this method's invocation.\n*\n* @name iterator\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @param {string} [direction=\"forward\"] - iteration direction\n* @throws {Error} must provide a recognized iteration direction\n* @returns {Iterator} iterator\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Create an iterator:\n* var it = list.iterator();\n*\n* // Iterate over the list...\n* var v = it.next().value;\n* // returns 'foo'\n*\n* v = it.next().value;\n* // returns 'bar'\n*\n* var bool = it.next().done;\n* // returns true\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'iterator', function iterator( direction ) {\n\tvar values;\n\tvar iter;\n\tvar self;\n\tvar FLG;\n\tvar dir;\n\tvar inc;\n\tvar i;\n\tif ( arguments.length ) {\n\t\tdir = direction;\n\t\tif ( dir !== 'forward' && dir !== 'reverse' ) {\n\t\t\tthrow new Error( format( '0jWBp', dir ) );\n\t\t}\n\t} else {\n\t\tdir = 'forward';\n\t}\n\tself = this;\n\n\t// Initialize the iteration index:\n\tif ( dir === 'forward' ) {\n\t\ti = -1;\n\t\tinc = 1;\n\t} else {\n\t\ti = this._length;\n\t\tinc = -1;\n\t}\n\t// Create a copy of list values (necessary in order to \"snapshot\" the list; otherwise, values could come and go between calls to `next`):\n\tvalues = this.toArray();\n\n\t// Create an iterator protocol-compliant object:\n\titer = {};\n\tsetReadOnly( iter, 'next', next );\n\tsetReadOnly( iter, 'return', end );\n\tif ( iteratorSymbol ) {\n\t\tsetReadOnly( iter, iteratorSymbol, factory );\n\t}\n\treturn iter;\n\n\t/**\n\t* Returns an iterator protocol-compliant object containing the next iterated value.\n\t*\n\t* @private\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction next() {\n\t\ti += inc;\n\t\tif ( FLG || i < 0 || i >= values.length ) {\n\t\t\treturn {\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t'value': values[ i ],\n\t\t\t'done': false\n\t\t};\n\t}\n\n\t/**\n\t* Finishes an iterator.\n\t*\n\t* @private\n\t* @param {*} [value] - value to return\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction end( value ) {\n\t\tFLG = true;\n\t\tif ( arguments.length ) {\n\t\t\treturn {\n\t\t\t\t'value': value,\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t'done': true\n\t\t};\n\t}\n\n\t/**\n\t* Returns a new iterator.\n\t*\n\t* @private\n\t* @returns {Iterator} iterator\n\t*/\n\tfunction factory() {\n\t\treturn self.iterator();\n\t}\n});\n\n/**\n* Returns the last node.\n*\n* @name last\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {(Node|void)} list node\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Peek at the last value:\n* var v = list.last().value;\n* // returns 'bar'\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'last', function last() {\n\tif ( this._length ) {\n\t\treturn this._last;\n\t}\n});\n\n/**\n* List length.\n*\n* @name length\n* @memberof DoublyLinkedList.prototype\n* @type {NonNegativeInteger}\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Examine the initial list length:\n* var len = list.length;\n* // returns 0\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Retrieve the current list length:\n* len = list.length;\n* // returns 2\n*/\nsetReadOnlyAccessor( DoublyLinkedList.prototype, 'length', function get() {\n\treturn this._length;\n});\n\n/**\n* Removes a value from the end of the list.\n*\n* @name pop\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {(*|void)} removed value\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Remove the last value:\n* var v = list.pop();\n* // returns 'bar'\n*\n* // Add a new value to the list:\n* list.push( 'beep' );\n*\n* // Remove the last value:\n* v = list.pop();\n* // returns 'beep'\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'pop', function pop() {\n\t/* eslint-disable no-underscore-dangle */\n\tvar value;\n\tif ( this._length ) {\n\t\t// Retrieve the last value:\n\t\tvalue = this._last.value;\n\n\t\t// Check whether we have a new \"tail\" or whether we have emptied the list...\n\t\tif ( this._last._prev ) {\n\t\t\tthis._last = this._last._prev;\n\t\t\tthis._last._next = null;\n\t\t} else {\n\t\t\t// List is empty:\n\t\t\tthis._first = null;\n\t\t\tthis._last = null;\n\t\t}\n\t\t// Decrement the list length:\n\t\tthis._length -= 1;\n\t}\n\treturn value;\n\n\t/* eslint-enable no-underscore-dangle */\n});\n\n/**\n* Adds a value to the end of the list.\n*\n* @name push\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {DoublyLinkedList} list instance\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Remove the last value:\n* var v = list.pop();\n* // returns 'bar'\n*\n* // Add a new value to the list:\n* list.push( 'beep' );\n*\n* // Remove the last value:\n* v = list.pop();\n* // returns 'beep'\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'push', function push( value ) {\n\tvar node;\n\n\t// Create a new list node:\n\tnode = new Node( value );\n\n\t// Check whether the list is currently empty...\n\tif ( this._length === 0 ) {\n\t\t// This is the only list node, making it both the first and last node:\n\t\tthis._first = node;\n\t\tthis._last = node;\n\t} else {\n\t\t// Link the new node to the previous last node:\n\t\tnode._prev = this._last; // eslint-disable-line no-underscore-dangle\n\n\t\t// Link the previous last node to the new node:\n\t\tthis._last._next = node; // eslint-disable-line no-underscore-dangle\n\n\t\t// Update the pointer for the last node:\n\t\tthis._last = node;\n\t}\n\t// Increment the list length:\n\tthis._length += 1;\n\n\treturn this;\n});\n\n/**\n* Removes a list node from the list.\n*\n* @name remove\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @param {Node} node - node to remove\n* @throws {Error} must provide a node belonging to the list\n* @returns {(*|void)} removed value\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' ).push( 'beep' );\n*\n* // Determine the list length:\n* var len = list.length;\n* // returns 3\n*\n* // Get the second node:\n* var node = list.first().next;\n*\n* // Remove the second node:\n* var v = list.remove( node );\n* // returns 'bar'\n*\n* // Determine the list length:\n* len = list.length;\n* // returns 2\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'remove', function remove( node ) {\n\t/* eslint-disable no-underscore-dangle */\n\tvar value;\n\tvar n;\n\n\t// Case: first node (equivalent to `shift()`)\n\tif ( node === this._first ) {\n\t\treturn this.shift();\n\t}\n\t// Case: last node (equivalent to `pop()`)\n\tif ( node === this._last ) {\n\t\treturn this.pop();\n\t}\n\t// Retrieve the node value:\n\tvalue = node.value;\n\n\t// Unfortunately, we need to check whether we have been provided a node belonging to our list by walking the list. If we don't, we could erroneously decrement the list length. This means our runtime goes from the theoretical O(1) to O(N).\n\tn = this._first;\n\twhile ( n !== this._last && n !== node ) {\n\t\tn = n._next;\n\t}\n\t// Check if we iterated through the entire list:\n\tif ( n === this._last ) {\n\t\tthrow new Error( format( '0jW1o' ) );\n\t}\n\t// Update pointers:\n\tnode._prev._next = node._next;\n\tnode._next._prev = node._prev;\n\n\t// Decrement the list length:\n\tthis._length -= 1;\n\n\treturn value;\n\n\t/* eslint-enable no-underscore-dangle */\n});\n\n/**\n* Removes a value from the beginning of the list.\n*\n* @name shift\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {(*|void)} removed value\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Remove the first value:\n* var v = list.shift();\n* // returns 'foo'\n*\n* // Add a new value to the list:\n* list.push( 'beep' );\n*\n* // Remove the first value:\n* v = list.shift();\n* // returns 'bar'\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'shift', function shift() {\n\t/* eslint-disable no-underscore-dangle */\n\tvar value;\n\tif ( this._length ) {\n\t\t// Retrieve the first value:\n\t\tvalue = this._first.value;\n\n\t\t// Check whether we have a new \"head\" or whether we have emptied the list...\n\t\tif ( this._first._next ) {\n\t\t\tthis._first = this._first._next;\n\t\t\tthis._first._prev = null;\n\t\t} else {\n\t\t\t// List is empty:\n\t\t\tthis._first = null;\n\t\t\tthis._last = null;\n\t\t}\n\t\t// Decrement the list length:\n\t\tthis._length -= 1;\n\t}\n\treturn value;\n\n\t/* eslint-enable no-underscore-dangle */\n});\n\n/**\n* Returns an array of list values.\n*\n* @name toArray\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {Array} list values\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Get an array of list values:\n* var vals = list.toArray();\n* // returns [ 'foo', 'bar' ]\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'toArray', function toArray() {\n\tvar node;\n\tvar out;\n\tvar i;\n\n\tout = [];\n\tnode = this._first;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tout.push( node.value );\n\t\tnode = node.next;\n\t}\n\treturn out;\n});\n\n/**\n* Serializes a list as JSON.\n*\n* ## Notes\n*\n* -   `JSON.stringify()` implicitly calls this method when stringifying a `DoublyLinkedList` instance.\n*\n* @name toJSON\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {Object} serialized list\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the list:\n* list.push( 'foo' ).push( 'bar' );\n*\n* // Serialize to JSON:\n* var o = list.toJSON();\n* // returns { 'type': 'doubly-linked-list', 'data': [ 'foo', 'bar' ] }\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'toJSON', function toJSON() {\n\tvar out = {};\n\tout.type = 'doubly-linked-list';\n\tout.data = this.toArray();\n\treturn out;\n});\n\n/**\n* Adds a value to the beginning of the list.\n*\n* @name unshift\n* @memberof DoublyLinkedList.prototype\n* @type {Function}\n* @returns {DoublyLinkedList} list instance\n*\n* @example\n* var list = new DoublyLinkedList();\n*\n* // Add values to the beginning of the list:\n* list.unshift( 'foo' ).unshift( 'bar' );\n*\n* // Remove the last value:\n* var v = list.pop();\n* // returns 'foo'\n*\n* // Add a new value to the beginning of the list:\n* list.unshift( 'beep' );\n*\n* // Remove the last value:\n* v = list.pop();\n* // returns 'bar'\n*/\nsetReadOnly( DoublyLinkedList.prototype, 'unshift', function unshift( value ) {\n\tvar node;\n\n\t// Create a new list node:\n\tnode = new Node( value );\n\n\t// Check whether the list is currently empty...\n\tif ( this._length === 0 ) {\n\t\t// This is the only list node, making it both the first and last node:\n\t\tthis._first = node;\n\t\tthis._last = node;\n\t} else {\n\t\t// Link the new node to the previous first node:\n\t\tnode._next = this._first; // eslint-disable-line no-underscore-dangle\n\n\t\t// Link the previous first node to the new node:\n\t\tthis._first._prev = node; // eslint-disable-line no-underscore-dangle\n\n\t\t// Update the pointer for the first node:\n\t\tthis._first = node;\n\t}\n\t// Increment the list length:\n\tthis._length += 1;\n\n\treturn this;\n});\n\n\n// EXPORTS //\n\nexport default DoublyLinkedList;\n"],"names":["Node","value","defineProperty","this","configurable","enumerable","get","_next","_prev","writable","DoublyLinkedList","_length","_first","_last","setReadOnly","prototype","node","location","loc","n","arguments","length","Error","format","push","unshift","direction","values","iter","self","FLG","dir","inc","i","toArray","next","end","iteratorSymbol","factory","done","iterator","setReadOnlyAccessor","shift","pop","out","data"],"mappings":";;weAuCA,SAASA,EAAMC,GA+Bd,OA7BAC,EAAgBC,KAAM,OAAQ,CAC7BC,cAAgB,EAChBC,YAAc,EACdC,IAAO,WACN,OAAOH,KAAKI,SAGdL,EAAgBC,KAAM,OAAQ,CAC7BC,cAAgB,EAChBC,YAAc,EACdC,IAAO,WACN,OAAOH,KAAKK,SAGdL,KAAKF,MAAQA,EAEbC,EAAgBC,KAAM,QAAS,CAC9BC,cAAgB,EAChBC,YAAc,EACdI,UAAY,EACZR,MAAS,OAEVC,EAAgBC,KAAM,QAAS,CAC9BC,cAAgB,EAChBC,YAAc,EACdI,UAAY,EACZR,MAAS,OAGHE,KCdR,SAASO,IACR,OAAOP,gBAAgBO,GAGvBP,KAAKQ,QAAU,EACfR,KAAKS,OAAS,KACdT,KAAKU,MAAQ,KACNV,MALC,IAAIO,EAyCbI,EAAaJ,EAAiBK,UAAW,SAAS,WAIjD,OAHAZ,KAAKQ,QAAU,EACfR,KAAKS,OAAS,KACdT,KAAKU,MAAQ,KACNV,QAqBRW,EAAaJ,EAAiBK,UAAW,SAAS,WACjD,GAAKZ,KAAKQ,QACT,OAAOR,KAAKS,UAqCdE,EAAaJ,EAAiBK,UAAW,UAAU,SAAiBC,EAAMf,EAAOgB,GAEhF,IAAIC,EACAC,EACJ,GAAKC,UAAUC,OAAS,GAEvB,GAAa,YADbH,EAAMD,IAC2B,UAARC,EACxB,MAAM,IAAII,MAAOC,EAAQ,QAASL,SAGnCA,EAAM,QAGP,GAAa,UAARA,GAAmBF,IAASb,KAAKU,MACrC,OAAOV,KAAKqB,KAAMvB,GAGnB,GAAa,WAARiB,GAAoBF,IAASb,KAAKS,OACtC,OAAOT,KAAKsB,QAASxB,GAItB,IADAkB,EAAIhB,KAAKS,OACDO,IAAMhB,KAAKU,OAASM,IAAMH,GACjCG,EAAIA,EAAEZ,MAGP,GAAKY,IAAMhB,KAAKU,OAASM,IAAMH,EAC9B,MAAM,IAAIM,MAAOC,EAAQ,UAsB1B,OAnBAJ,EAAI,IAAInB,EAAMC,GAGD,UAARiB,GACJF,EAAKT,MAAMC,MAAQW,EACnBA,EAAEZ,MAAQS,EAAKT,MAEfS,EAAKT,MAAQY,EACbA,EAAEX,MAAQQ,IAEVA,EAAKR,MAAMD,MAAQY,EACnBA,EAAEX,MAAQQ,EAAKR,MAEfQ,EAAKR,MAAQW,EACbA,EAAEZ,MAAQS,GAGXb,KAAKQ,SAAW,EAETR,QAsCRW,EAAaJ,EAAiBK,UAAW,YAAY,SAAmBW,GACvE,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACJ,GAAKb,UAAUC,QAEd,GAAa,aADbU,EAAML,IAC4B,YAARK,EACzB,MAAM,IAAIT,MAAOC,EAAQ,QAASQ,SAGnCA,EAAM,UAsBP,OApBAF,EAAO1B,KAGM,YAAR4B,GACJE,GAAK,EACLD,EAAM,IAENC,EAAI9B,KAAKQ,QACTqB,GAAO,GAGRL,EAASxB,KAAK+B,UAIdpB,EADAc,EAAO,GACY,OAAQO,GAC3BrB,EAAac,EAAM,SAAUQ,GACxBC,GACJvB,EAAac,EAAMS,EAAgBC,GAE7BV,EAQP,SAASO,IAER,OADAF,GAAKD,EACAF,GAAOG,EAAI,GAAKA,GAAKN,EAAON,OACzB,CACNkB,MAAQ,GAGH,CACNtC,MAAS0B,EAAQM,GACjBM,MAAQ,GAWV,SAASH,EAAKnC,GAEb,OADA6B,GAAM,EACDV,UAAUC,OACP,CACNpB,MAASA,EACTsC,MAAQ,GAGH,CACNA,MAAQ,GAUV,SAASD,IACR,OAAOT,EAAKW,eAsBd1B,EAAaJ,EAAiBK,UAAW,QAAQ,WAChD,GAAKZ,KAAKQ,QACT,OAAOR,KAAKU,SAyBd4B,EAAqB/B,EAAiBK,UAAW,UAAU,WAC1D,OAAOZ,KAAKQ,WA4BbG,EAAaJ,EAAiBK,UAAW,OAAO,WAE/C,IAAId,EAiBJ,OAhBKE,KAAKQ,UAETV,EAAQE,KAAKU,MAAMZ,MAGdE,KAAKU,MAAML,OACfL,KAAKU,MAAQV,KAAKU,MAAML,MACxBL,KAAKU,MAAMN,MAAQ,OAGnBJ,KAAKS,OAAS,KACdT,KAAKU,MAAQ,MAGdV,KAAKQ,SAAW,GAEVV,KA8BRa,EAAaJ,EAAiBK,UAAW,QAAQ,SAAed,GAC/D,IAAIe,EAuBJ,OApBAA,EAAO,IAAIhB,EAAMC,GAGK,IAAjBE,KAAKQ,SAETR,KAAKS,OAASI,EACdb,KAAKU,MAAQG,IAGbA,EAAKR,MAAQL,KAAKU,MAGlBV,KAAKU,MAAMN,MAAQS,EAGnBb,KAAKU,MAAQG,GAGdb,KAAKQ,SAAW,EAETR,QAkCRW,EAAaJ,EAAiBK,UAAW,UAAU,SAAiBC,GAEnE,IAAIf,EACAkB,EAGJ,GAAKH,IAASb,KAAKS,OAClB,OAAOT,KAAKuC,QAGb,GAAK1B,IAASb,KAAKU,MAClB,OAAOV,KAAKwC,MAOb,IAJA1C,EAAQe,EAAKf,MAGbkB,EAAIhB,KAAKS,OACDO,IAAMhB,KAAKU,OAASM,IAAMH,GACjCG,EAAIA,EAAEZ,MAGP,GAAKY,IAAMhB,KAAKU,MACf,MAAM,IAAIS,MAAOC,EAAQ,UAS1B,OANAP,EAAKR,MAAMD,MAAQS,EAAKT,MACxBS,EAAKT,MAAMC,MAAQQ,EAAKR,MAGxBL,KAAKQ,SAAW,EAETV,KA8BRa,EAAaJ,EAAiBK,UAAW,SAAS,WAEjD,IAAId,EAiBJ,OAhBKE,KAAKQ,UAETV,EAAQE,KAAKS,OAAOX,MAGfE,KAAKS,OAAOL,OAChBJ,KAAKS,OAAST,KAAKS,OAAOL,MAC1BJ,KAAKS,OAAOJ,MAAQ,OAGpBL,KAAKS,OAAS,KACdT,KAAKU,MAAQ,MAGdV,KAAKQ,SAAW,GAEVV,KAuBRa,EAAaJ,EAAiBK,UAAW,WAAW,WACnD,IAAIC,EACA4B,EACAX,EAIJ,IAFAW,EAAM,GACN5B,EAAOb,KAAKS,OACNqB,EAAI,EAAGA,EAAI9B,KAAKQ,QAASsB,IAC9BW,EAAIpB,KAAMR,EAAKf,OACfe,EAAOA,EAAKmB,KAEb,OAAOS,KAyBR9B,EAAaJ,EAAiBK,UAAW,UAAU,WAClD,IAAI6B,EAAM,CACVA,KAAW,sBAEX,OADAA,EAAIC,KAAO1C,KAAK+B,UACTU,KA4BR9B,EAAaJ,EAAiBK,UAAW,WAAW,SAAkBd,GACrE,IAAIe,EAuBJ,OApBAA,EAAO,IAAIhB,EAAMC,GAGK,IAAjBE,KAAKQ,SAETR,KAAKS,OAASI,EACdb,KAAKU,MAAQG,IAGbA,EAAKT,MAAQJ,KAAKS,OAGlBT,KAAKS,OAAOJ,MAAQQ,EAGpBb,KAAKS,OAASI,GAGfb,KAAKQ,SAAW,EAETR"}